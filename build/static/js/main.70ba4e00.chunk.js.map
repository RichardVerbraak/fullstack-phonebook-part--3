{"version":3,"sources":["components/Form.js","components/Message.js","components/Persons.js","components/Search.js","services.js","App.js","index.js"],"names":["Form","addPerson","addName","addNumber","newName","newNumber","onSubmit","value","onChange","type","Message","message","className","success","text","Persons","persons","filter","removePerson","console","log","person","name","toLowerCase","includes","map","number","onClick","window","confirm","id","Search","filterPersons","baseURL","App","useState","setPersons","setFilter","setNewName","setNewNumber","setMessage","useEffect","axios","get","then","response","data","e","target","preventDefault","exists","find","updatedPerson","put","updatePerson","updatedArray","catch","error","filtered","post","savePerson","savedPerson","setTimeout","delete","deletePerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.70ba4e00.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Form = ({ addPerson, addName, addNumber, newName, newNumber }) => {\r\n\treturn (\r\n\t\t<form onSubmit={addPerson}>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input value={newName} onChange={addName} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber: <input value={newNumber} onChange={addNumber} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type='submit'>add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default Form\r\n","import React from 'react'\r\n\r\nconst Message = ({ message }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2 className={message.success ? 'success' : 'error'}>{message.text}</h2>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\n\r\nconst Persons = ({ persons, filter, removePerson }) => {\r\n\tconsole.log(persons)\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{persons\r\n\t\t\t\t.filter((person) => {\r\n\t\t\t\t\treturn person.name.toLowerCase().includes(filter.toLowerCase())\r\n\t\t\t\t})\r\n\t\t\t\t.map((person) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={person.id}>\r\n\t\t\t\t\t\t\t<span>{person.name}</span> <span>{person.number}</span>{' '}\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tif (window.confirm(`Delete ${person.name}?`)) {\r\n\t\t\t\t\t\t\t\t\t\tremovePerson(person.id)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tdelete\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst Search = ({ filter, filterPersons }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tfilter shown with <input value={filter} onChange={filterPersons} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Search\r\n","import axios from 'axios'\r\n\r\n// Relative path\r\nconst baseURL = '/api/persons'\r\n\r\nconst getAllPersons = () => {\r\n\tconst request = axios.get(baseURL)\r\n\treturn request.then((response) => {\r\n\t\treturn response.data\r\n\t})\r\n}\r\n\r\nconst savePerson = (person) => {\r\n\tconst request = axios.post(baseURL, person)\r\n\treturn request.then((response) => {\r\n\t\treturn response.data\r\n\t})\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n\tconst request = axios.delete(`${baseURL}/${id}`)\r\n\treturn request.then((response) => {\r\n\t\treturn response.data\r\n\t})\r\n}\r\n\r\nconst updatePerson = ({ id, name, number }) => {\r\n\tconst request = axios.put(`${baseURL}/${id}`, {\r\n\t\tname,\r\n\t\tnumber,\r\n\t})\r\n\treturn request.then((response) => {\r\n\t\treturn response.data\r\n\t})\r\n}\r\n\r\nexport { getAllPersons, savePerson, deletePerson, updatePerson }\r\n","import React, { useState, useEffect } from 'react'\nimport Form from './components/Form'\nimport Message from './components/Message'\nimport Persons from './components/Persons'\nimport Search from './components/Search'\n\nimport './index.css'\n\nimport {\n\tgetAllPersons,\n\tsavePerson,\n\tdeletePerson,\n\tupdatePerson,\n} from './services'\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([])\n\n\tconst [filter, setFilter] = useState('')\n\n\tconst [newName, setNewName] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\n\tconst [message, setMessage] = useState()\n\n\tconst filterPersons = (e) => {\n\t\tsetFilter(e.target.value)\n\t}\n\n\tconst addName = (e) => {\n\t\tsetNewName(e.target.value)\n\t}\n\n\tconst addPerson = (e) => {\n\t\te.preventDefault()\n\n\t\t// Finds person with the same name and return said object\n\t\tconst exists = persons.find((person) => {\n\t\t\treturn person.name === newName\n\t\t})\n\n\t\t// If the person was found ? Alert : add to array\n\t\tif (exists) {\n\t\t\tconst confirmed = window.confirm(\n\t\t\t\t`${exists.name} already exists in the phonebook, replace the old number with a new one?`\n\t\t\t)\n\n\t\t\tif (confirmed) {\n\t\t\t\t// Updated Person Object\n\t\t\t\tconst updatedPerson = {\n\t\t\t\t\tname: exists.name,\n\t\t\t\t\tnumber: newNumber,\n\t\t\t\t\tid: exists.id,\n\t\t\t\t}\n\n\t\t\t\t// Create a new array where the newly updated person (data) replaces the old one by matching the IDs\n\t\t\t\tupdatePerson(updatedPerson)\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\tconst updatedArray = persons.map((person) => {\n\t\t\t\t\t\t\treturn person.id !== data.id ? person : data\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsetPersons(updatedArray)\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tsetMessage({\n\t\t\t\t\t\t\ttext: `Information of ${updatedPerson.name} has already been removed from the server`,\n\t\t\t\t\t\t\tsuccess: false,\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\t// Filter out person who was about to be updated but was already removed\n\t\t\t\t\t\tconst filtered = persons.filter((person) => {\n\t\t\t\t\t\t\treturn person.id !== updatedPerson.id\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsetPersons(filtered)\n\t\t\t\t\t})\n\t\t\t}\n\t\t} else {\n\t\t\tconst person = { name: newName, number: newNumber }\n\n\t\t\tsavePerson(person).then((savedPerson) => {\n\t\t\t\tconsole.log(savedPerson)\n\t\t\t\tsetPersons({ ...persons, savedPerson })\n\t\t\t})\n\n\t\t\tsetMessage({\n\t\t\t\ttext: `Added ${newName}`,\n\t\t\t\tsuccess: true,\n\t\t\t})\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetMessage('')\n\t\t\t}, 5000)\n\t\t}\n\t}\n\n\tconst removePerson = (id) => {\n\t\tdeletePerson(id).then((persons) => {\n\t\t\tsetPersons(persons)\n\t\t})\n\t}\n\n\tconst addNumber = (e) => {\n\t\tsetNewNumber(e.target.value)\n\t}\n\n\tuseEffect(() => {\n\t\tgetAllPersons().then((persons) => {\n\t\t\tsetPersons(persons)\n\t\t})\n\t}, [])\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t{message && <Message message={message} />}\n\t\t\t<Search filter={filter} filterPersons={filterPersons} />\n\n\t\t\t<h2>add a new</h2>\n\t\t\t<Form\n\t\t\t\taddPerson={addPerson}\n\t\t\t\taddName={addName}\n\t\t\t\taddNumber={addNumber}\n\t\t\t\tnewName={newName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t/>\n\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons persons={persons} filter={filter} removePerson={removePerson} />\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}